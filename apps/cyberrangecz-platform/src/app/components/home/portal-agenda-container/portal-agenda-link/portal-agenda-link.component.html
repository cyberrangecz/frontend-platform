@if (!portalAgendaLink.disabled) {
    <div class="portal-item-container">
        @if (portalAgendaLink.menu) {
            <div>
                <button
                    mat-raised-button
                    class="simple-button b-40-f f-100-f dropdown-button vflex"
                    [ngClass]="{'button-elevation' : (elevation === portalAgendaLink.label + ' button')}"
                    (mouseover)="setElevation(portalAgendaLink.label)"
                    (mouseleave)="setElevation('')"
                    [matMenuTriggerFor]="controlMenu"
                >
                    <mat-icon>{{ portalAgendaLink.icon }}</mat-icon>

                    <div class="dropdown-icon-band">
                        <mat-icon class="arrow-icon">arrow_drop_down</mat-icon>
                    </div>
                </button>

                <mat-menu #controlMenu="matMenu">
                    @for (expandedControl of portalAgendaLink.menu; track expandedControl) {
                        <button
                            mat-menu-item
                            class="expanded-menu-item b-98-f"
                            (click)="setRoute(expandedControl.path)">
                            <mat-icon>{{ expandedControl?.icon }}</mat-icon>
                            <span>{{ expandedControl?.label }}</span>
                        </button>
                    }
                </mat-menu>
            </div>
        } @else {
            <button
                mat-raised-button
                class="simple-button b-40-f f-100-f"
                [ngClass]="{'button-elevation' : (elevation === portalAgendaLink.label + ' button')}"
                (mouseover)="setElevation(portalAgendaLink.label)"
                (mouseleave)="setElevation('')"
                (click)="setRoute(portalAgendaLink.path)">
                <mat-icon>{{ portalAgendaLink.icon }}</mat-icon>
            </button>
        }
        <h3 class="agenda-link-label">{{ portalAgendaLink.label }}</h3>
    </div>
}
