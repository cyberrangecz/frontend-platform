<mat-card appearance="outlined" class="info-card">
  <div class="left-panel">
    <div class="user-base-info">
      <img [alt]="user.name" class="user-picture" src="{{'data:image/png;base64,'+user.picture}}"/>
      <div class="user-name">{{ user.name }}</div>
    </div>
    <div class="user-description">{{ user.mail }}</div>
  </div>

  <div class="right-panel">
    <div class="icon-container">
      <mat-icon class="icon" matTooltip="Roles">add_moderator</mat-icon>
      <div class="icon-text">{{ user.roles.length }}</div>
    </div>
  </div>
</mat-card>
<mat-card appearance="outlined" class="members-card">
  <div class='detail-action-buttons'>
    <button (click)="accordion.openAll()" color="primary" mat-button>Expand All</button>
    <button (click)="accordion.closeAll()" color="primary" mat-button>Collapse All</button>
  </div>
  <mat-accordion class="detail-headers-align" multi>
    @for (role of user.roles; track role; let first = $first) {
      <mat-expansion-panel class="roles mat-elevation-z0">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <div class="user-detail-title">
              <mat-icon color="primary" mat-list-icon>policy</mat-icon>
              <h4>{{ role.roleType }}</h4>
            </div>
          </mat-panel-title>
          <mat-panel-description>
            <p mat-line matTooltip="Microservice name">{{ role.microserviceName }}</p>
          </mat-panel-description>
          @if (!first) {
            <mat-divider/>
          }
        </mat-expansion-panel-header>
        <div>{{ role.description }}</div>
      </mat-expansion-panel>
    }
  </mat-accordion>
</mat-card>
