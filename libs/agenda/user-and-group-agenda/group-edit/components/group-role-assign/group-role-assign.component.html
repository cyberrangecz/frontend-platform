<sentinel-controls
    [controls]="rolesToAssignControls"
    class="to-assign-controls">
</sentinel-controls>
<mat-card appearance="outlined">
    <mat-card-header>
        <div mat-card-avatar>
            <mat-icon color="primary">add_circle_outline</mat-icon>
        </div>
        <mat-card-title>Add roles</mat-card-title>
        <mat-card-subtitle>Add roles to {{ resource?.name }} group</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        <sentinel-resource-selector
            (fetch)="search($event)"
            (selectionChange)="onRolesToAssignSelection($event)"
            [resourceMapping]="roleMapping"
            [resources]="roles$ | async"
            [selected]="selectedRolesToAssign$ | async"
            searchPlaceholder="Search roles by name" />
    </mat-card-content>
</mat-card>

<sentinel-controls
    [controls]="assignedRolesControls"
    class="assigned-controls">
</sentinel-controls>
<mat-card appearance="outlined">
    <mat-card-header>
        <div mat-card-avatar>
            <mat-icon color="primary">policy</mat-icon>
        </div>
        <mat-card-title> Roles of group {{ resource?.name }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <sentinel-table
            (rowSelection)="onAssignedRolesSelection($event)"
            (tableLoad)="onAssignedRolesLoad($event)"
            [data]="assignedRoles$ | async"
            [defaultSortDirection]="ROLES_OF_GROUP_INIT_SORT_DIR"
            [defaultSortName]="ROLES_OF_GROUP_INIT_SORT_NAME"
            [elevation]="0"
            [hasError]="assignedRolesHasError$ | async"
            [isLoading]="isLoadingAssignedRoles$ | async" />
    </mat-card-content>
</mat-card>
