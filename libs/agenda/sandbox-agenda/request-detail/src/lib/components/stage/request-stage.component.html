<mat-card appearance="outlined">
    <mat-card-header>
        <img [src]="stage?.logoSrc" mat-card-avatar>
        <mat-card-title>{{ stage?.title }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <crczp-request-stage-header [stage]="stage"/>
        <mat-expansion-panel (closed)="onPanelStateChange(false)"
                             (opened)="onPanelStateChange(true)"
                             *ngIf="stage?.hasDetail"
                             [disabled]="stage?.detailDisabled"
                             [expanded]="stage.isExpanded"
                             class="mat-elevation-z1">
            <mat-expansion-panel-header>
                <mat-panel-title>Stage detail</mat-panel-title>
            </mat-expansion-panel-header>
            <ng-template matExpansionPanelContent>
                <crczp-request-stage-detail [stage]="stage">
                </crczp-request-stage-detail>
            </ng-template>
        </mat-expansion-panel>
    </mat-card-content>
</mat-card>
