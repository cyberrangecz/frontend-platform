<mat-expansion-panel>
    <mat-expansion-panel-header>
        <mat-panel-title>
            Hints
        </mat-panel-title>
        <mat-panel-description>
            @if (hints && hints.length > 0) {
                <span> This level contains {{ hints.length }}
                    hint(s)</span>
            } @else {
                <span>This level has no hints</span>
            }
            @if (hintsHasErrors) {
                <div class="panel-description-error">
                    <mat-icon color="warn">error_outline</mat-icon>
                    <mat-error>There are errors in some hints</mat-error>
                </div>
            }
        </mat-panel-description>
    </mat-expansion-panel-header>

    <sentinel-controls [controls]="controls"
    >
    </sentinel-controls>
    <mat-divider />

    <!--     HINT stepper-->
    @if (stepperHints.items && stepperHints.items.length > 0) {
        <div class="hint-stepper">
            <sentinel-stepper (indexSelected)="onActiveHintChanged($event)"
                              (selectedStepSwapped)="onActiveHintChanged($event)"
                              (stepSwapped)="onOrderUpdate()"
                              [activeIndex]="selectedStep"
                              [selectable]="true"
                              [stepperItems]="stepperHints">
            </sentinel-stepper>
            <div>
                <mat-divider />
                <ng-template>Hint {{ selectedStep + 1 }}</ng-template>
                <div class="step-content">
                    <crczp-hint-edit (hintChange)="onHintsChanged($event)"
                                     [hint]="stepperHints.items[selectedStep].hint"
                                     [hintsPenaltySum]="penaltySum"
                                     [levelMaxScore]="levelMaxScore"
                                     [order]="selectedStep" />
                </div>
            </div>
        </div>
    } @else {
        <h3>Start by clicking on Add button</h3>
    }
</mat-expansion-panel>
