<sentinel-controls (itemClicked)="onControlsAction($event)" [controls]="topControls" />
<sentinel-table
    (tableLoad)="onLoadEvent($event)"
    [data]="trainingDefinitions$ | async"
    [defaultSortDirection]="INIT_SORT_DIR"
    [defaultSortName]="INIT_SORT_NAME"
    [displayedActionsCount]="7"
    [hasError]="hasError$ | async"
    [isLoading]="isLoading$ | async">

    <ng-container *sentinelRow="'createdAt'; template: createdAt" />
    <ng-container *sentinelRow="'lastEditTime'; template: lastEditTime" />
    <ng-container *sentinelRow="'state'; template: state" />

    <ng-template #state let-row>
        <crczp-table-state-cell
            [icon]="stateToIcon(row.element.state)"
            [text]="row.element.state"
        />
    </ng-template>

    <ng-template #createdAt let-row>
        <crczp-table-date-cell
            [displayedDate]="row.element.createdAt"
            [isLoading]="isLoading$ | async"
            [showTimeWhenPossible]="true" />
    </ng-template>

    <ng-template #lastEditTime let-row>
        <crczp-table-date-cell
            [displayedDate]="row.element.lastEditTime"
            [isLoading]="isLoading$ | async"
            [showTimeWhenPossible]="true" />
    </ng-template>
</sentinel-table>

<div class="bottom-controls">
    <sentinel-controls (itemClicked)="onControlsAction($event)" [controls]="bottomControls"
                       [titlecased]="false" />
</div>
