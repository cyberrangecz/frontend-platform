<div class="header">
    <!-- LEVEL STEPPER -->
    @let stepper = this.trainingRunService.stepperBar$ | async;
    @if (stepper) {
        <div class="training-run-stepper round-scrollbar">
            <sentinel-stepper
                (indexSelected)="activeStepChanged($event)"
                [activeIndex]="stepper.activeLevelIndex"
                [draggable]="false"
                [selectable]="stepper.selectable"
                [stepperItems]="stepper"
            >
            </sentinel-stepper>
        </div>
    }
</div>

<div class="hflex">

    @if (!!(this.trainingRunService.runInfo$ | async)) {
        <!-- CONTENT OF ACTIVE LEVEL -->
        <crczp-abstract-level
            [hidden]="shouldHideActiveLevel()"
        />
        @if (!shouldHideActiveLevel()) {
            <crczp-abstract-level />
        }
    }
    @let sandboxInstanceId = (this.trainingRunService.runInfo$.observeProperty().sandboxInstanceId.$() | async);
    @if (!!sandboxInstanceId) {
        <crczp-topology-wrapper
            (getAccessFile)="onAccessFileRequested()"
            [id]="{instanceId: sandboxInstanceId}"
            class="topology-wrapper"
        />
    }
</div>
