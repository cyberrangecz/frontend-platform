<div class="content">
  <form [formGroup]="taskConfigFormGroup.formGroup">
    <div class="panel-wrapper">
      <div class="left-panel">


        <!--CONTENT field -->
        <h3>Content</h3>
        <sentinel-markdown-editor
          (contentChange)="content.setValue($event)"
          [content]="content.value"
          [sentinel-markdown-file-upload]="false"
          class="mrkdwn-content"
          />
        @if (content.hasError('required')) {
          <mat-error>Content cannot be empty</mat-error>
        }
        <!--SOLUTION field -->
        <h3>Solution</h3>
        <sentinel-markdown-editor
          (contentChange)="solution.setValue($event)"
          [content]="solution.value"
          [sentinel-markdown-file-upload]="false"
          class="mrkdwn-solution"
          />
        @if (solution.hasError('required')) {
          <mat-error>Solution cannot be empty</mat-error>
        }
      </div>

      <div class="right-panel">
        <!-- TITLE filed -->
        <mat-form-field
          (keydown.enter)="$event.preventDefault()"
          appearance="outline"
          >
          <mat-label>Title</mat-label>
          <input
            formControlName="title"
            matInput
            placeholder="Title"
            required
            />
          @if (title.value) {
            <button
              (click)="title.setValue('')"
              aria-label="Clear"
              mat-icon-button
              matSuffix
              >
              <mat-icon>close</mat-icon>
            </button>
          }
          @if (title.hasError('required')) {
            <mat-error>Title cannot be empty</mat-error>
          }
        </mat-form-field>

        <!-- INCORRECT ANSWER LIMIT field -->
        <mat-form-field
          appearance="outline"
                    hintLabel="1 to 100. If the limit
          will be overreached, solution will be displayed automatically."
          >
          <mat-label>Incorrect Answer Limit</mat-label>
          <input
            formControlName="incorrectAnswerLimit"
            matInput
            max="100"
            min="1"
            placeholder="Incorrect Answer Limit"
            required
            type="number"
            />
          <mat-error
            >Incorrect answer limit must be in range of 1 to 100
            </mat-error
            >
          </mat-form-field>

          <!-- ANSWER field -->
          <mat-form-field
            (keydown.enter)="$event.preventDefault()"
            appearance="outline"
            hintLabel="Max 50 characters"
            >
            <mat-label>Correct Answer</mat-label>
            <input
              formControlName="answer"
              matInput
              maxlength="50"
              placeholder="Correct Answer"
              required
              />
            @if (answer) {
              <button
                (click)="answer.setValue('')"
                aria-label="Clear"
                mat-icon-button
                matSuffix
                >
                <mat-icon>close</mat-icon>
              </button>
            }
            <mat-hint align="end">{{ answer.value?.length || 0 }}/50</mat-hint>
            <mat-error>Correct Answer cannot be empty or larger than 50 characters</mat-error>
          </mat-form-field>

          <div class="modify-sandbox">
            <span>Modify sandbox: </span>
            <mat-slide-toggle formControlName="modifySandbox"/>
          </div>

        </div>
      </div>
    </form>
  </div>
