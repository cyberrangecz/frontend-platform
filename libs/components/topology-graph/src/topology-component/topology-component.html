<div [class.mat-elevation-z2]="true" class="toplogy-wrapper wh-100">
    <mat-tab-group
        [(selectedIndex)]="selectedIndex"
        [animationDuration]="0.2"
        [mat-stretch-tabs]="false"
        [preserveContent]="true"
    >
        <mat-tab label="Topology">
            <crczp-topology-graph
                (openConsole)="handleOpenConsole($event)"
                [topology]="topology"
            />
        </mat-tab>
        <ng-container *ngFor="let tab of tabs(); let i = index; trackBy: trackTab">
            <mat-tab [matTooltip]="tab.ip">
                <ng-template mat-tab-label>
                    <span class="tab-label">
                        {{ tab.title }}
                        <span class="tab-ip">{{ tab.ip }}</span>
                        <button (click)="closeTab(i)">x</button>
                    </span>
                </ng-template>

                <crczp-console-view
                />
            </mat-tab>
        </ng-container>
    </mat-tab-group>
</div>
