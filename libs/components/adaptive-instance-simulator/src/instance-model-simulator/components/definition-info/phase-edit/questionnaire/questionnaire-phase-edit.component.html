<div>
    <!-- TITLE filed -->
    <mat-form-field
        appearance="outline">
        <mat-label>Title</mat-label>
        <input
            [disabled]="true"
            [value]="phase.title"
            matInput
            placeholder="Title"
        />
    </mat-form-field>

    <!-- QUESTIONS component -->
    <crczp-adaptive-questions-visualization-overview [questionnaireOrder]="phase.order"
                                                     [questionnaireType]="phase.questionnaireType"
                                                     [questions]="phase.questions">
    </crczp-adaptive-questions-visualization-overview>

    @if (phase.questionnaireType === questionnaireTypes.Adaptive) {
        <div>
            <mat-divider/>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>Question-Phase Relations</mat-panel-title>
                </mat-expansion-panel-header>
                <ng-template matExpansionPanelContent>
                    <div>
                        @for (relation of phase.phaseRelations; track relation) {
                            <div>
                                <mat-divider class='bold-mat-divider'/>
                                <div class="question-container">
                                    <h1>{{ relation.phaseId }}</h1>
                                </div>
                                <mat-divider/>
                                <div class="relation-fields">
                                    <div>
                                        <p>Questions: </p>
                                        @for (qId of relation.questionIds; track qId) {
                                            <div>
                                                <div class="question-in-relation">
                                                    <mat-icon
                                                        style="vertical-align: sub"> {{ getQuestionIconById(qId) }}
                                                    </mat-icon>
                                                    <span> {{ qId }}: {{ getQuestionTitleById(qId) }}</span>
                                                </div>
                                            </div>
                                        }
                                    </div>
                                    <div class="relation-options">
                                        <mat-form-field
                                            appearance="outline"
                                        >
                                            <mat-label>Success Rate Percentage</mat-label>
                                            <input
                                                matInput
                                                placeholder="Success Rate"
                                                type="number"
                                                [disabled]="true"
                                                [value]="relation.successRate"
                                            />
                                        </mat-form-field>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </ng-template>
            </mat-expansion-panel>
        </div>
    }
</div>
